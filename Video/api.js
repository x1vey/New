/*! For license information please see api.js.LICENSE.txt */
(()=>{"use strict";var e,t,n,o,r={1997:(e,t,n)=>{function o(){const e={};return{on:function(t,n){return e[t]?e[t].push(n):e[t]=[n],()=>{const o=e[t].indexOf(n);o>-1&&e[t].splice(o,1)}},emit:function(t,...n){const o=e[t],r=e["*"];o&&[...o].forEach((e=>e(...n))),r&&[...r].forEach((e=>e(t,...n)))}}}n.d(t,{A:()=>o})},5918:(e,t,n)=>{n.d(t,{Mj:()=>a,pH:()=>r,zH:()=>s}),n(3279);const o={videoRobustness:"HW_SECURE_ALL",audioRobustness:"SW_SECURE_CRYPTO"},r={videoRobustness:"SW_SECURE_CRYPTO",audioRobustness:"SW_SECURE_CRYPTO"},a="com.widevine.alpha",i=e=>({initDataTypes:["cenc"],audioCapabilities:[{contentType:'audio/mp4;codecs="mp4a.40.2"',robustness:e.audioRobustness}],videoCapabilities:[{contentType:'video/mp4;codecs="avc1.42E01E"',robustness:e.videoRobustness}]}),s=()=>navigator.requestMediaKeySystemAccess(a,[i(o),i(r)])},6806:(e,t,n)=>{n.d(t,{k:()=>G});var o={};n.r(o),n.d(o,{JsonPatchError:()=>g,_areEquals:()=>_,applyOperation:()=>O,applyPatch:()=>P,applyReducer:()=>N,deepClone:()=>w,getValueByPointer:()=>A,validate:()=>T,validator:()=>C});var r={};n.r(r),n.d(r,{compare:()=>j,generate:()=>x,observe:()=>L,unobserve:()=>k});var a,i=n(3977),s=(a=function(e,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},a(e,t)},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),d=Object.prototype.hasOwnProperty;function c(e,t){return d.call(e,t)}function u(e){if(Array.isArray(e)){for(var t=new Array(e.length),n=0;n<t.length;n++)t[n]=""+n;return t}if(Object.keys)return Object.keys(e);var o=[];for(var r in e)c(e,r)&&o.push(r);return o}function l(e){switch(typeof e){case"object":return JSON.parse(JSON.stringify(e));case"undefined":return null;default:return e}}function p(e){for(var t,n=0,o=e.length;n<o;){if(!((t=e.charCodeAt(n))>=48&&t<=57))return!1;n++}return!0}function v(e){return-1===e.indexOf("/")&&-1===e.indexOf("~")?e:e.replace(/~/g,"~0").replace(/\//g,"~1")}function f(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function h(e){if(void 0===e)return!0;if(e)if(Array.isArray(e)){for(var t=0,n=e.length;t<n;t++)if(h(e[t]))return!0}else if("object"==typeof e)for(var o=u(e),r=o.length,a=0;a<r;a++)if(h(e[o[a]]))return!0;return!1}function m(e,t){var n=[e];for(var o in t){var r="object"==typeof t[o]?JSON.stringify(t[o],null,2):t[o];void 0!==r&&n.push(o+": "+r)}return n.join("\n")}var y=function(e){function t(t,n,o,r,a){var i=this.constructor,s=e.call(this,m(t,{name:n,index:o,operation:r,tree:a}))||this;return s.name=n,s.index=o,s.operation=r,s.tree=a,Object.setPrototypeOf(s,i.prototype),s.message=m(t,{name:n,index:o,operation:r,tree:a}),s}return s(t,e),t}(Error),g=y,w=l,b={add:function(e,t,n){return e[t]=this.value,{newDocument:n}},remove:function(e,t,n){var o=e[t];return delete e[t],{newDocument:n,removed:o}},replace:function(e,t,n){var o=e[t];return e[t]=this.value,{newDocument:n,removed:o}},move:function(e,t,n){var o=A(n,this.path);o&&(o=l(o));var r=O(n,{op:"remove",path:this.from}).removed;return O(n,{op:"add",path:this.path,value:r}),{newDocument:n,removed:o}},copy:function(e,t,n){var o=A(n,this.from);return O(n,{op:"add",path:this.path,value:l(o)}),{newDocument:n}},test:function(e,t,n){return{newDocument:n,test:_(e[t],this.value)}},_get:function(e,t,n){return this.value=e[t],{newDocument:n}}},E={add:function(e,t,n){return p(t)?e.splice(t,0,this.value):e[t]=this.value,{newDocument:n,index:t}},remove:function(e,t,n){return{newDocument:n,removed:e.splice(t,1)[0]}},replace:function(e,t,n){var o=e[t];return e[t]=this.value,{newDocument:n,removed:o}},move:b.move,copy:b.copy,test:b.test,_get:b._get};function A(e,t){if(""==t)return e;var n={op:"_get",path:t};return O(e,n),n.value}function O(e,t,n,o,r,a){if(void 0===n&&(n=!1),void 0===o&&(o=!0),void 0===r&&(r=!0),void 0===a&&(a=0),n&&("function"==typeof n?n(t,0,e,t.path):C(t,0)),""===t.path){var i={newDocument:e};if("add"===t.op)return i.newDocument=t.value,i;if("replace"===t.op)return i.newDocument=t.value,i.removed=e,i;if("move"===t.op||"copy"===t.op)return i.newDocument=A(e,t.from),"move"===t.op&&(i.removed=e),i;if("test"===t.op){if(i.test=_(e,t.value),!1===i.test)throw new g("Test operation failed","TEST_OPERATION_FAILED",a,t,e);return i.newDocument=e,i}if("remove"===t.op)return i.removed=e,i.newDocument=null,i;if("_get"===t.op)return t.value=e,i;if(n)throw new g("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",a,t,e);return i}o||(e=l(e));var s=(t.path||"").split("/"),d=e,c=1,u=s.length,v=void 0,h=void 0,m=void 0;for(m="function"==typeof n?n:C;;){if((h=s[c])&&-1!=h.indexOf("~")&&(h=f(h)),r&&("__proto__"==h||"prototype"==h&&c>0&&"constructor"==s[c-1]))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(n&&void 0===v&&(void 0===d[h]?v=s.slice(0,c).join("/"):c==u-1&&(v=t.path),void 0!==v&&m(t,0,e,v)),c++,Array.isArray(d)){if("-"===h)h=d.length;else{if(n&&!p(h))throw new g("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",a,t,e);p(h)&&(h=~~h)}if(c>=u){if(n&&"add"===t.op&&h>d.length)throw new g("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",a,t,e);if(!1===(i=E[t.op].call(t,d,h,e)).test)throw new g("Test operation failed","TEST_OPERATION_FAILED",a,t,e);return i}}else if(c>=u){if(!1===(i=b[t.op].call(t,d,h,e)).test)throw new g("Test operation failed","TEST_OPERATION_FAILED",a,t,e);return i}if(d=d[h],n&&c<u&&(!d||"object"!=typeof d))throw new g("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",a,t,e)}}function P(e,t,n,o,r){if(void 0===o&&(o=!0),void 0===r&&(r=!0),n&&!Array.isArray(t))throw new g("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");o||(e=l(e));for(var a=new Array(t.length),i=0,s=t.length;i<s;i++)a[i]=O(e,t[i],n,!0,r,i),e=a[i].newDocument;return a.newDocument=e,a}function N(e,t,n){var o=O(e,t);if(!1===o.test)throw new g("Test operation failed","TEST_OPERATION_FAILED",n,t,e);return o.newDocument}function C(e,t,n,o){if("object"!=typeof e||null===e||Array.isArray(e))throw new g("Operation is not an object","OPERATION_NOT_AN_OBJECT",t,e,n);if(!b[e.op])throw new g("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",t,e,n);if("string"!=typeof e.path)throw new g("Operation `path` property is not a string","OPERATION_PATH_INVALID",t,e,n);if(0!==e.path.indexOf("/")&&e.path.length>0)throw new g('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",t,e,n);if(("move"===e.op||"copy"===e.op)&&"string"!=typeof e.from)throw new g("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",t,e,n);if(("add"===e.op||"replace"===e.op||"test"===e.op)&&void 0===e.value)throw new g("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",t,e,n);if(("add"===e.op||"replace"===e.op||"test"===e.op)&&h(e.value))throw new g("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",t,e,n);if(n)if("add"==e.op){var r=e.path.split("/").length,a=o.split("/").length;if(r!==a+1&&r!==a)throw new g("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",t,e,n)}else if("replace"===e.op||"remove"===e.op||"_get"===e.op){if(e.path!==o)throw new g("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",t,e,n)}else if("move"===e.op||"copy"===e.op){var i=T([{op:"_get",path:e.from,value:void 0}],n);if(i&&"OPERATION_PATH_UNRESOLVABLE"===i.name)throw new g("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",t,e,n)}}function T(e,t,n){try{if(!Array.isArray(e))throw new g("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(t)P(l(t),l(e),n||!0);else{n=n||C;for(var o=0;o<e.length;o++)n(e[o],o,t,void 0)}}catch(e){if(e instanceof g)return e;throw e}}function _(e,t){if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){var n,o,r,a=Array.isArray(e),i=Array.isArray(t);if(a&&i){if((o=e.length)!=t.length)return!1;for(n=o;0!=n--;)if(!_(e[n],t[n]))return!1;return!0}if(a!=i)return!1;var s=Object.keys(e);if((o=s.length)!==Object.keys(t).length)return!1;for(n=o;0!=n--;)if(!t.hasOwnProperty(s[n]))return!1;for(n=o;0!=n--;)if(!_(e[r=s[n]],t[r]))return!1;return!0}return e!=e&&t!=t}var I=new WeakMap,R=function(e){this.observers=new Map,this.obj=e},S=function(e,t){this.callback=e,this.observer=t};function k(e,t){t.unobserve()}function L(e,t){var n,o=function(e){return I.get(e)}(e);if(o){var r=function(e,t){return e.observers.get(t)}(o,t);n=r&&r.observer}else o=new R(e),I.set(e,o);if(n)return n;if(n={},o.value=l(e),t){n.callback=t,n.next=null;var a=function(){x(n)},i=function(){clearTimeout(n.next),n.next=setTimeout(a)};"undefined"!=typeof window&&(window.addEventListener("mouseup",i),window.addEventListener("keyup",i),window.addEventListener("mousedown",i),window.addEventListener("keydown",i),window.addEventListener("change",i))}return n.patches=[],n.object=e,n.unobserve=function(){x(n),clearTimeout(n.next),function(e,t){e.observers.delete(t.callback)}(o,n),"undefined"!=typeof window&&(window.removeEventListener("mouseup",i),window.removeEventListener("keyup",i),window.removeEventListener("mousedown",i),window.removeEventListener("keydown",i),window.removeEventListener("change",i))},o.observers.set(t,new S(t,n)),n}function x(e,t){void 0===t&&(t=!1);var n=I.get(e.object);M(n.value,e.object,e.patches,"",t),e.patches.length&&P(n.value,e.patches);var o=e.patches;return o.length>0&&(e.patches=[],e.callback&&e.callback(o)),o}function M(e,t,n,o,r){if(t!==e){"function"==typeof t.toJSON&&(t=t.toJSON());for(var a=u(t),i=u(e),s=!1,d=i.length-1;d>=0;d--){var p=e[h=i[d]];if(!c(t,h)||void 0===t[h]&&void 0!==p&&!1===Array.isArray(t))Array.isArray(e)===Array.isArray(t)?(r&&n.push({op:"test",path:o+"/"+v(h),value:l(p)}),n.push({op:"remove",path:o+"/"+v(h)}),s=!0):(r&&n.push({op:"test",path:o,value:e}),n.push({op:"replace",path:o,value:t}));else{var f=t[h];"object"==typeof p&&null!=p&&"object"==typeof f&&null!=f&&Array.isArray(p)===Array.isArray(f)?M(p,f,n,o+"/"+v(h),r):p!==f&&(r&&n.push({op:"test",path:o+"/"+v(h),value:l(p)}),n.push({op:"replace",path:o+"/"+v(h),value:l(f)}))}}if(s||a.length!=i.length)for(d=0;d<a.length;d++){var h;c(e,h=a[d])||void 0===t[h]||n.push({op:"add",path:o+"/"+v(h),value:l(t[h])})}}}function j(e,t,n){void 0===n&&(n=!1);var o=[];return M(e,t,o,"",n),o}Object.assign({},o,r,{JsonPatchError:y,deepClone:l,escapePathComponent:v,unescapePathComponent:f});var B=n(5918),D=(n(3279),function(e,t,n,o){return new(n||(n=Promise))((function(r,a){function i(e){try{d(o.next(e))}catch(e){a(e)}}function s(e){try{d(o.throw(e))}catch(e){a(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}d((o=o.apply(e,t||[])).next())}))});const V=(...e)=>D(void 0,[...e],void 0,(function*(e=!1){if(e)return{videoRobustness:B.pH.videoRobustness,audioRobustness:B.pH.audioRobustness};const t=yield(0,B.zH)(),{audioCapabilities:n,videoCapabilities:o}=t.getConfiguration();return{videoRobustness:o[0].robustness,audioRobustness:n[0].robustness}}));var U=n(6919);n(9253),n(2747);var H=n(6198);n(2134).A.isOffLine();var F=function(e,t,n,o){return new(n||(n=Promise))((function(r,a){function i(e){try{d(o.next(e))}catch(e){a(e)}}function s(e){try{d(o.throw(e))}catch(e){a(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}d((o=o.apply(e,t||[])).next())}))};const W=e=>e.startsWith("data:"),J=e=>fetch(e).then((e=>{if(!e.ok)throw new Error(`Failed to fetch VTT file: ${e.statusText}`);return e.text()})).then((t=>{try{return`data:text/vtt;base64,${btoa(t)}`}catch(t){return e}})),q=e=>new Promise((t=>{if(W(e))return t(e);const n=new Image;n.crossOrigin="Anonymous",n.onload=function(){const e=document.createElement("canvas"),o=e.getContext("2d");e.width=n.width,e.height=n.height,o.drawImage(n,0,0),t(e.toDataURL())},n.src=e}));(function(){try{const e=[1,2,3];return e.includes(1),e.push(23),e.forEach((()=>{})),e.filter(Boolean),e.indexOf(34),!0}catch(e){return!1}})(),function(){try{return void 0!==window.fetch}catch(e){return!1}}(),function(){try{return void 0!==Object.assign}catch(e){return!1}}();var $=n(1997),Q=n(7350),z=function(e,t,n,o){return new(n||(n=Promise))((function(r,a){function i(e){try{d(o.next(e))}catch(e){a(e)}}function s(e){try{d(o.throw(e))}catch(e){a(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}d((o=o.apply(e,t||[])).next())}))};const G={getList:()=>z(void 0,void 0,void 0,(function*(){const e=new((yield(0,Q.i)()).offline.Storage)(null);return(yield e.list()).filter((({appMetadata:e})=>Boolean(e))).map((({appMetadata:e,duration:t,expiration:n})=>{const{metaData:{title:o,posters:r},videoId:a,trackId:i,label:s}=e;return{videoId:a,title:o,posters:r,duration:t,expiration:n,trackId:i,label:s}}))})),delete:(e,t)=>z(void 0,void 0,void 0,(function*(){const n=new((yield(0,Q.i)()).offline.Storage)(null);let o=(yield n.list()).filter((({appMetadata:t})=>Boolean(t)&&t.videoId===e));if("number"==typeof t&&(o=o.filter((e=>{var n;return(null===(n=e.appMetadata)||void 0===n?void 0:n.trackId)===t}))),!o.length)throw new Error("[VdoCipher] Video not found in offline storage");for(const e of o)e.offlineUri&&(yield n.remove(e.offlineUri));n.destroy()})),store:(e,t,n)=>z(void 0,void 0,void 0,(function*(){var o,r;const a=document.createElement("video"),s=new $.A,d=((e,t)=>"playbackInfo"in e?(0,U.Z)(e.playbackInfo,t).videoId:e.videoId)(e,s);if(!d)throw new Error("[Vdocipher] videoId is required");if(!(e=>"otp"in e&&Boolean(e.otp)||"jwt"in e&&Boolean(e.jwt))(e))throw new Error("[Vdocipher] OTP or TOKEN is required ");const c=yield(e=>F(void 0,void 0,void 0,(function*(){return new Promise(((t,n)=>{fetch(`https://dev.vdocipher.com/api/meta/${e}`).then((e=>e.json())).then(t).catch((e=>{n(new Error(`[Vdocipher] ${e.message||"Hostname is undefined"}`))}))}))})))(d);if(!c.dash)throw new Error("[Vdocipher] video does not support offline download");const u=yield(l=c.captions,F(void 0,void 0,void 0,(function*(){if(!l)return l;for(const e of l)if(!W(e.url)){const t=yield J(e.url);e.url=t}return l})));var l;const p=yield(v=c.posters,F(void 0,void 0,void 0,(function*(){if(v){for(const e of v){const t=yield q(e.url+"?a=b");e.url=t}return v}})));var v;c.captions=u,c.posters=p;const f=c.dash.manifest,h=yield(0,Q.i)(),m=new h.Player(a),y=new h.offline.Storage(m),g=(e=>(Object.keys(e).forEach((t=>{e[t]=e[t].replace("/wv/:authToken","")})),e))(c.dash.licenseServers),w=yield((...e)=>D(void 0,[...e],void 0,(function*(e=null,t){return Object.assign({streaming:{bufferingGoal:10,rebufferingGoal:5,bufferBehind:10,retryParameters:{maxAttempts:5,stallTimeout:15e3,connectionTimeout:25e3},stallThreshold:3},manifest:{retryParameters:{maxAttempts:5,stallTimeout:15e3,connectionTimeout:25e3},dash:{ignoreMinBufferTime:!0}}},e?{drm:{retryParameters:{maxAttempts:2,stallTimeout:15e3,connectionTimeout:25e3},servers:e,advanced:{[B.Mj]:Object.assign({},yield V(t))}}}:{})})))(g);m.configure(w);const b=Object.assign(Object.assign({},e),{signature:void 0,href:("webcomponent-dom",window.location.href),tech:"vw"});return null===(o=m.getNetworkingEngine())||void 0===o||o.registerRequestFilter(((e,t,n)=>(o,r)=>{return a=void 0,i=void 0,d=function*(){const a=e.util.StringUtils,i=e.util.Uint8ArrayUtils;if(o===e.net.NetworkingEngine.RequestType.LICENSE){n.licenseRequest=i.toBase64(new Uint8Array(r.body||[])).replace(/_/g,"/").replace(/-/g,"+"),n.tech="wv";const e={token:btoa(JSON.stringify(n)).replace(/\//g,"_").replace(/\+/g,"-")},o=JSON.stringify(e);t.emit("castAuthToken",e.token),r.headers["content-type"]="application/json",r.headers["vdo-sdk"]="VdoWeb/2.5.7",r.body=a.toUTF8(o)}},new((s=void 0)||(s=Promise))((function(e,t){function n(e){try{r(d.next(e))}catch(e){t(e)}}function o(e){try{r(d.throw(e))}catch(e){t(e)}}function r(t){var r;t.done?e(t.value):(r=t.value,r instanceof s?r:new s((function(e){e(r)}))).then(n,o)}r((d=d.apply(a,i||[])).next())}));var a,i,s,d})(h,s,b)),null===(r=m.getNetworkingEngine())||void 0===r||r.registerResponseFilter(((e,t,n)=>(o,r)=>new Promise((a=>{var s,d;const c=e.util.StringUtils,u=e.util.Uint8ArrayUtils;if(o===e.net.NetworkingEngine.RequestType.LICENSE){"number"==typeof r.timeMs&&(n.emit("licenseLoad",{durationMs:r.timeMs}),n.emit("licenseLoadDuration",r.timeMs));const e=c.fromUTF8(r.data),o=JSON.parse(e);o.sessionLicense&&n.emit("sessionLicense",o.sessionLicense),n.emit("updateLicenseStatus",{received:!0});const a=o.license;if(r.data=u.fromBase64(a),n.emit("syncVideoResumeTime",{serverResumeTime:(null===(s=o.lastResumeTime)||void 0===s?void 0:s.resumeTime)||null,serverUpdatedOn:(null===(d=o.lastResumeTime)||void 0===d?void 0:d.syncDelta)||null}),o.annotationCode)try{(0,H.A)(o.annotationCode,t,n)}catch(e){i.A.error("Invalid annotation code")}if(o.tags){let e;try{e=JSON.parse(o.tags)}catch(e){i.A.error("Invalid tags")}n.emit("tags",e)}}a()})))(h,a,s)),new Promise(((e,o)=>{m.addEventListener("error",o),m.load(f).then((()=>{const r=m.getVariantTracks(),a=t(r);a||o(new Error("[Vdocipher] No track selected")),y.configure({offline:{trackSelectionCallback:e=>[e.filter((({id:e})=>e===a.id))[0]],progressCallback:(e,t)=>n(t)}});const i=y.store(f,{trackId:a.id,downloadedAt:Date.now(),metaData:c,label:`${Math.round(a.bandwidth/1e3)} kbps`,videoId:d,track:a});i.promise.catch(o),i.promise.then(e),i.finally((()=>{y.destroy(),m.destroy()}))})).catch(o)}))}))}},2747:(e,t,n)=>{n(2134),n(3977)},6198:(e,t,n)=>{n.d(t,{A:()=>d});const o=(e,t,n=0,o=!1)=>{const r=t.startsWith("-");r&&(t=t.substring(1));const a=t.match(/^([0-9]+)px$/),i=t.match(/^([0-9]+)%$/);if(r){if(o&&(n=-n),i){const t=100-Number(i[1]);return t*e/100-n>0?t*e/100-n:0}if(a){const t=e-Number(a[1]);return t-n>0?t-n:0}}return a?Number(a[1])-n>0?Number(a[1])-n:0:i?Number(i[1])*e/100-n>0?Number(i[1])*e/100-n:0:Number(t)-n>0?Number(t)-n:0},r=e=>{const t=document.createElement("canvas").getContext("2d");t.font=`${Math.floor(.85*e.size)}pt sans-serif`,e.fontWidth=t.measureText(e.text).width,e.fontHeight=t.measureText("M").width},a=(e,t,n)=>{const r=String(e.text),a=Number(e.alpha),i=e.color.replace("0x","#"),s=Number(e.size),d=o(t.offsetWidth,e.x,e.fontWidth),c=o(t.offsetHeight,e.y,e.fontHeight,!0),u=(window.devicePixelRatio||window.innerWidth/window.outerWidth)/2,l=u<1?s/u:s;if(n.font=.85*l+"pt sans-serif",n.fillStyle=((e,t)=>{const n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);if(!n)throw new Error("Bad Hex color");return`rgba(${parseInt(n[1],16)},${parseInt(n[2],16)},${parseInt(n[3],16)},${t})`})(i,a),r.split("\n").length>1){const t=r.split("\n"),o=1.5*e.fontHeight;return t.forEach(((e,t)=>{n.fillText(e,d,c+o*t)}))}n.fillText(r,d,c)},i=(e,t,n)=>{e.forEach((e=>{if(e.originalAlpha=e.alpha,"rtext"===e.type){e.type="text";const r=()=>{e.x=o(t.offsetWidth,Math.floor(80*Math.random())+"%").toString(),e.y=o(t.offsetHeight,Math.floor(80*Math.random())+"%").toString(),e.alpha=e.originalAlpha},a=()=>{e.alpha=0},i=Number(e.skip)||0,s=Number(e.interval)||5,d=setInterval(r,s+i);if(n.push(d),r(),i>0){let e=setTimeout((()=>{e=setInterval(a,s+i),n.pop(),n.push(e),a()}),s);n.push(e)}}}))},s=e=>decodeURIComponent(atob(e).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join(""));function d(e,t,n){const o="annotationContainerId";if(document.getElementById(o))return{unload(){}};const d=JSON.parse(s(e).replace(/['‘’′`]/g,'"'));n.emit("annotateStatus",!0),n.emit("watermarkCount",d.length),d.forEach(r);const c=document.createElement("canvas"),u="pointer-events:none !important;border:none !important;visibility: visible !important;display: block !important;opacity: 1 !important;z-index: 7 !important;max-width: 100% !important;position:absolute !important; transform: translate(-50%, -50%);top: 50%;left: 50%;";if(c.setAttribute("id",o),c.className="annotation-container",!t.parentElement)return t.src="",t.remove(),n.emit("error",{message:"Video license expired",payload:{message:"Video element does not have parent element to append annotation"}});if(t.parentElement.appendChild(c),t.addEventListener("playing",(()=>{c.style.display="inherit"})),t.addEventListener("ended",(()=>{c.style.display="none"})),!c.getContext)return{unload(){}};const l=c.getContext("2d");if(!l)return;const p=[];let v=!0,f=0;i(d,t,p);const h=window.requestAnimationFrame;let m=!1;const y=()=>{var e;if(!v)return;if(h(y),f<10)return void(f+=1);if(f=0,t.paused||t.ended)return void(c.style.display="none");const o=!!t.style.zIndex&&parseInt(t.style.zIndex)>parseInt(c.style.zIndex);if(!m&&(o||!(null===(e=t.parentElement)||void 0===e?void 0:e.contains(c))))return m=!0,setTimeout((()=>{t.src="",t.remove()}),5e3),n.emit("tamper",o?"zIndex":"move"),n.emit("error",{message:"Video license expired",payload:{message:"[Annotate Error] Annotation container is not in the video element"}});const r=t.videoWidth/t.videoHeight;r<1?(c.setAttribute("height",t.offsetHeight+"px !important"),c.setAttribute("width",t.offsetHeight*r+"px !important")):(c.setAttribute("width",t.offsetHeight*r+"px !important"),c.setAttribute("height",t.offsetHeight+"px !important")),c.getAttribute("style")!==u&&c.setAttribute("style",u),d.filter((e=>"text"===e.type)).forEach((e=>a(e,c,l)))};return y(),{unload:()=>{v=!1,c.remove(),p.forEach((e=>clearInterval(e)))}}}},2134:(e,t,n)=>{n.d(t,{A:()=>a});var o=n(7350),r=function(e,t,n,o){return new(n||(n=Promise))((function(r,a){function i(e){try{d(o.next(e))}catch(e){a(e)}}function s(e){try{d(o.throw(e))}catch(e){a(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}d((o=o.apply(e,t||[])).next())}))};const a={isOffLine:()=>!1===navigator.onLine,isContentAvailableOffline:e=>r(void 0,void 0,void 0,(function*(){try{const t=(yield new Promise(((e,t)=>{const n=indexedDB.open("shaka_offline_db");n.onsuccess=()=>e(n.result),n.onerror=()=>t(n.error)}))).transaction(["manifest-v5"],"readonly").objectStore("manifest-v5").getAll(),n=(yield new Promise(((e,n)=>{t.onsuccess=()=>e(t.result),t.onerror=()=>n(t.error)}))).filter((({appMetadata:t,expiration:n})=>{const o=t.videoId===e&&n,r=n>Date.now();return o&&r}));if(n.length<=0)throw new Error("NOT available");return n[0]}catch(e){throw new Error("NOT Available")}})),requestOfflineMetaData(e){return r(this,void 0,void 0,(function*(){var t;const n=yield(0,o.i)(),r=new n.Player(document.createElement("video")),a=new n.offline.Storage(r),i=(yield a.list()).filter((({appMetadata:t})=>(null==t?void 0:t.videoId)===e));if(a.destroy(),r.destroy(),i.length){const e=i.reduce(((e,t)=>e.size>t.size?e:t)),n=e&&(null===(t=e.appMetadata)||void 0===t?void 0:t.metaData);return n.dash&&e.offlineUri&&(n.dash.manifest=e.offlineUri),n}throw new Error("Requested Content is not stored offline")}))}}},7350:(e,t,n)=>{n.d(t,{i:()=>o});const o=()=>n.e(809).then(n.t.bind(n,2334,23))},3279:(e,t,n)=>{},9253:(e,t,n)=>{n(3977),n(3279),n(5918)},3977:(e,t,n)=>{n.d(t,{A:()=>o});const o=function(){let e="ERROR";const t={NONE:0,ERROR:1,WARN:2,INFO:3,DEBUG:4},n=n=>t[e]>=t[n];return{setLevel(t){e=t},getLevel:()=>e,error:(...e)=>n("ERROR")?console.error(...e):void 0,warn:(...e)=>n("WARN")?console.warn(...e):void 0,info:(...e)=>n("INFO")?console.info(...e):void 0,debug:(...e)=>n("DEBUG")?console.log(...e):void 0}}()},6919:(e,t,n)=>{n.d(t,{Z:()=>r});var o=n(3977);const r=(e,t)=>{try{return e=atob(e),JSON.parse(e)}catch(e){o.A.error("playbackInfo invalid: ",e);const n={code:null,message:"Provide the valid playbackInfo string",payload:{message:"Error: parsing the playbackInfo string"}};return t.emit("error",n),{videoId:null}}}}},a={};function i(e){var t=a[e];if(void 0!==t)return t.exports;var n=a[e]={exports:{}};return r[e].call(n.exports,n,n.exports,i),n.exports}i.m=r,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,i.t=function(n,o){if(1&o&&(n=this(n)),8&o)return n;if("object"==typeof n&&n){if(4&o&&n.__esModule)return n;if(16&o&&"function"==typeof n.then)return n}var r=Object.create(null);i.r(r);var a={};e=e||[null,t({}),t([]),t(t)];for(var s=2&o&&n;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((e=>a[e]=()=>n[e]));return a.default=()=>n,i.d(r,a),r},i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.f={},i.e=e=>Promise.all(Object.keys(i.f).reduce(((t,n)=>(i.f[n](e,t),t)),[])),i.u=e=>({133:"hls.js",809:"shaka-lib"}[e]+".js"),i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n={},o="@vdocipher/wrapper:",i.l=(e,t,r,a)=>{if(n[e])n[e].push(t);else{var s,d;if(void 0!==r)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var l=c[u];if(l.getAttribute("src")==e||l.getAttribute("data-webpack")==o+r){s=l;break}}s||(d=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,i.nc&&s.setAttribute("nonce",i.nc),s.setAttribute("data-webpack",o+r),s.src=e),n[e]=[t];var p=(t,o)=>{s.onerror=s.onload=null,clearTimeout(v);var r=n[e];if(delete n[e],s.parentNode&&s.parentNode.removeChild(s),r&&r.forEach((e=>e(o))),t)return t(o)},v=setTimeout(p.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=p.bind(null,s.onerror),s.onload=p.bind(null,s.onload),d&&document.head.appendChild(s)}},i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;i.g.importScripts&&(e=i.g.location+"");var t=i.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");if(n.length)for(var o=n.length-1;o>-1&&(!e||!/^http(s?):/.test(e));)e=n[o--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),i.p=e})(),(()=>{var e={381:0};i.f.j=(t,n)=>{var o=i.o(e,t)?e[t]:void 0;if(0!==o)if(o)n.push(o[2]);else{var r=new Promise(((n,r)=>o=e[t]=[n,r]));n.push(o[2]=r);var a=i.p+i.u(t),s=new Error;i.l(a,(n=>{if(i.o(e,t)&&(0!==(o=e[t])&&(e[t]=void 0),o)){var r=n&&("load"===n.type?"missing":n.type),a=n&&n.target&&n.target.src;s.message="Loading chunk "+t+" failed.\n("+r+": "+a+")",s.name="ChunkLoadError",s.type=r,s.request=a,o[1](s)}}),"chunk-"+t,t)}};var t=(t,n)=>{var o,r,[a,s,d]=n,c=0;if(a.some((t=>0!==e[t]))){for(o in s)i.o(s,o)&&(i.m[o]=s[o]);d&&d(i)}for(t&&t(n);c<a.length;c++)r=a[c],i.o(e,r)&&e[r]&&e[r][0](),e[r]=0},n=self.webpackChunk_vdocipher_wrapper=self.webpackChunk_vdocipher_wrapper||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),(()=>{var e=i(6806);const t=[];[...Object.getOwnPropertyNames(HTMLVideoElement.prototype),...Object.getOwnPropertyNames(HTMLMediaElement.prototype)].forEach((e=>{try{"function"!=typeof HTMLVideoElement.prototype[e]&&t.push(e)}catch(n){t.push(e)}}));function n(e){const n={};return t.forEach((t=>{const o=e[t];var r;(r=o)!==Object(r)?n[t]=o:n["$$"+t]=function(e){if("TimeRanges"===e.constructor.name){const t=[];for(let n=0;n<e.length;n++)t.push([e.start(n),e.end(n)]);return{type:"TimeRanges",argument:{length:e.length,data:t}}}return"$$@todo"+e.constructor.name}(o)})),n}const o=["loadstart","progress","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","play","pause","ratechange","resize","volumechange","fullscreenchange"],r=["loadstart","loadedmetadata","loadeddata","canplay","emptied","canplaythrough"],a=e=>{try{return JSON.parse(e)}catch(e){return{payload:{}}}};function s(){const e=(46656*Math.random()|0).toString(36),t=(46656*Math.random()|0).toString(36);return("000"+e).slice(-3)+("000"+t).slice(-3)}const d=e=>"PRINCIPAL"===e?"AGENT":"PRINCIPAL",c="@vdo/PR-via-custom-event-",u="@vdo/MT-via-custom-event-";function l(e){return"iframe"===e.type?function({element:e,operatingMode:t}){const n={isActive:!1,source:null,origin:"*",onConnected:null,onReady:null,onStateUpdate:null},{bindPromise:o,settlePromise:r}=function(e){const t={};return e.addEventListener("message",(({data:e})=>{const{token:n,type:o,status:r=!0,payload:i}=a(e);"@vdo/promiseResolver"===o&&n&&n in t&&(r?t[n][0](i):t[n][1](i),delete t[n])})),{bindPromise:function(e,n){const o=s();return t[o]=[e,n],o},settlePromise:function(e,t,n=!0,o){null==e||e.postMessage(JSON.stringify({type:"@vdo/promiseResolver",token:t,status:n,payload:o}),"*")}}}(window),i=function(e){const t={};return{add:(e,n)=>{t[e]?t[e].push(n):t[e]=[n]},onMessage:(n,o,r,a)=>{t[n]&&t[n].forEach((t=>{const n=t(o);"function"==typeof(null==n?void 0:n.then)?n.then((t=>{r&&a&&e(a,r,!0,t)})).catch((t=>{r&&a&&e(a,r,!1,t)})):r&&a&&e(a,r,!0,n)}))}}}(r),d=[],c=(e,t)=>(n.isActive||d.push([e,t]),new Promise(((r,a)=>{var i;const s=o(r,a);null===(i=n.source)||void 0===i||i.postMessage(JSON.stringify({type:e,token:s,payload:t}),"*")})));window.addEventListener("message",(({data:e,source:t})=>{const{type:o,payload:s={},token:d}=a(e);if(o)return"@vdo/handshakeSuccessful"===o&&n.onConnected?n.onConnected():"@vdo/handshake"===o&&t&&s.origin&&d?((e,t,o)=>{n.source=e,n.isActive=!0,n.origin=t,n.onConnected&&n.onConnected(),c("@vdo/handshakeSuccessful",{origin:t}),o&&r(e,o,!0)})(t,origin,d):"@vdo/readyToHandshake"===o&&n.onReady?n.onReady():void(t===n.source&&(s.videoState&&n.onStateUpdate&&n.onStateUpdate(s.videoState),i.onMessage(o,s,d,t)))}));const u={send:c,onStateUpdate:e=>n.onStateUpdate=e,on:i.add,isConnected:()=>n.isActive};return"PRINCIPAL"===t?Object.assign(Object.assign({},u),{operatingMode:"PRINCIPAL",handshake:{onSuccess:e=>n.onConnected=e,onReady:e=>n.onReady=e,ready:()=>{window.parent.postMessage(JSON.stringify({type:"@vdo/readyToHandshake"}),"*")}}}):Object.assign(Object.assign({},u),{operatingMode:"AGENT",handshake:{onSuccess:e=>n.onConnected=e,onReady:e=>n.onReady=e,request:()=>new Promise(((t,r)=>{var a;if(!(e instanceof HTMLIFrameElement))return;n.source=e.contentWindow;const i=o(t,r);null===(a=e.contentWindow)||void 0===a||a.postMessage(JSON.stringify({type:"@vdo/handshake",token:i,payload:{origin:window.location.origin}}),"*")}))}})}(e):function({element:e,operatingMode:t}){const n=u+t,o=u+d(t),r={isActive:!1,element:e,onConnected:null,onReady:null,onStateUpdate:null},{bindPromise:i,settlePromise:l}=function(e,t){const n=c+t,o=c+d(t),r={};return e.addEventListener(n,(function(e){const{token:t,status:n=!0,payload:o}=a(e.detail);t&&t in r&&(n?r[t][0](o):r[t][1](o),delete r[t])})),{bindPromise:function(e,t){const n=s();return r[n]=[e,t],n},settlePromise:function(t,n=!0,r){e.dispatchEvent(new CustomEvent(o,{detail:JSON.stringify({token:t,status:n,payload:r})}))}}}(e,t),p=function(e){const t={};return{add:(e,n)=>{t[e]?t[e].push(n):t[e]=[n]},onMessage:(n,o,r)=>{t[n]&&t[n].forEach((t=>{const n=t(o);"function"==typeof(null==n?void 0:n.then)?n.then((t=>{r&&e(r,!0,t)})).catch((t=>{r&&e(r,!1,t)})):r&&e(r,!0,n)}))}}}(l),v=[],f=(t,n)=>(r.isActive||v.push([t,n]),new Promise(((r,a)=>{const s=i(r,a),d=JSON.stringify({type:t,token:s,payload:n});e.dispatchEvent(new CustomEvent(o,{detail:d}))})));e.addEventListener(n,(({detail:e})=>{const{type:t,payload:n={},token:o}=a(e);if(t)return n.videoState&&r.onStateUpdate&&r.onStateUpdate(n.videoState),"@vdo/handshakeSuccessful"===t&&r.onConnected?r.onConnected():"@vdo/handshake"===t&&n.origin&&o?(e=>{r.isActive=!0,r.onConnected&&r.onConnected(),f("@vdo/handshakeSuccessful",{origin}),e&&l(e,!0)})(o):"@vdo/readyToHandshake"===t&&r.onReady?r.onReady():void p.onMessage(t,n,o)}));const h={send:f,onStateUpdate:e=>r.onStateUpdate=e,on:p.add,isConnected:()=>r.isActive};return"PRINCIPAL"===t?Object.assign(Object.assign({},h),{operatingMode:"PRINCIPAL",handshake:{onSuccess:e=>r.onConnected=e,onReady:e=>r.onReady=e,ready:()=>{const t=JSON.stringify({type:"@vdo/readyToHandshake"});e.dispatchEvent(new CustomEvent("@vdo/MT-via-custom-event-AGENT",{detail:t}))}}}):Object.assign(Object.assign({},h),{operatingMode:"AGENT",handshake:{onSuccess:e=>r.onConnected=e,onReady:e=>r.onReady=e,request:()=>new Promise(((t,n)=>{const o=i(t,n),r=JSON.stringify({type:"@vdo/handshake",token:o,payload:{origin:window.location.origin}});e.dispatchEvent(new CustomEvent("@vdo/MT-via-custom-event-PRINCIPAL",{detail:r}))}))}})}(e)}var p=i(1997);function v(e){this.__store=e||[],this.length=this.__store.length}function f(){let e={};return{update:t=>{return n=t,Object.keys(n).filter((e=>e.startsWith("$$"))).forEach((e=>{const t=n[e];if("string"==typeof t)return n[e.slice(2)]="NOT_AVAILABLE_ON_API",delete n[e];if("string"!=typeof t){const{type:o,argument:r}=t;if("TimeRanges"===o)return n[e.slice(2)]=new v(r.data),delete n[e]}return n[e.slice(2)]="NOT_AVAILABLE_ON_API",delete n[e]})),e=n;var n},getAll:()=>e,get:t=>e[t]}}v.prototype.start=function(e){return this.__store[e][0]},v.prototype.end=function(e){return this.__store[e][1]};const h=(e,t)=>{e.on("availableCaptionsWithActiveStatus",(e=>{t.availableCaptions=e[0],t.isWaitingForCaptions=!1})),e.on("captionLanguageChange",(e=>{t.availableCaptions=t.availableCaptions.map(((t,n)=>Object.assign(Object.assign({},t),{active:String(n)===e[0]})))})),e.on("availableQualities",(e=>{t.availableQualities=e[0]})),e.on("_metaDataLoadSuccess",(e=>{t.metaData=e[0]})),e.on("abrStatusChange",(e=>{t.abrStatus=!!e[0]})),e.on("captionVisibilityChange",(e=>{t.captionVisibility=e[0]})),e.on("abrStatusChange",(t=>{e.emit("videoAdaptivenessChange",t)})),e.on("setActiveQuality",(t=>{e.emit("qualityChange",t)})),e.on("qualityChange",(n=>{e.emit("videoQualityChange",n),t.availableQualities.forEach(((e,t)=>{e.active=t===n[0]}))}))},m=(e,t)=>{e.addEventListener("timeupdate",(function(){const n=Math.floor(e.currentTime);n===t._totalPlayedCountLastPos+1?(t.totalPlayed++,t._totalPlayedCountLastPos=n,t.totalCoveredArray[n]?t.totalCoveredArray[n]++:(t.totalCovered++,t.totalCoveredArray[n]=1)):n!==t._totalPlayedCountLastPos&&(t._totalPlayedCountLastPos=n)}))};var y=function(e,t,n,o){return new(n||(n=Promise))((function(r,a){function i(e){try{d(o.next(e))}catch(e){a(e)}}function s(e){try{d(o.throw(e))}catch(e){a(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}d((o=o.apply(e,t||[])).next())}))};const g=["fullscreenChange","videoAdaptivenessChange","videoQualityChange","error","statusChange","captionVisibilityChange","captionLanguageChange"];function w(e,t,n){const o={totalPlayed:0,abrStatus:!0,totalCovered:0,captionVisibility:!1,totalCoveredArray:[],_totalPlayedCountLastPos:0,availableQualities:[],availableCaptions:[],metaData:void 0,isWaitingForCaptions:!0};return m(e,o),h(t,o),{getTotalPlayed:()=>Promise.resolve(o.totalPlayed),getMetaData:()=>new Promise((e=>{if(o.metaData)return e(o.metaData);t.on("_metaDataLoadSuccess",(t=>e(t[0])))})),getTotalCovered:()=>Promise.resolve(o.totalCovered),getTotalCoveredArray:()=>Promise.resolve(o.totalCoveredArray),setFullscreen:e=>n("@vdo/eventBus",{eventBusEvent:{eventName:"requestFullscreenChange",value:e}}),updatePlayerConfig:e=>n("@vdo/eventBus",{eventBusEvent:{eventName:"updatePlayerConfig",value:e}}),hideCaptions:()=>n("@vdo/eventBus",{eventBusEvent:{eventName:"setCaptionVisibility",value:!1}}),setCaptionLanguage:e=>{const r=()=>n("@vdo/eventBus",{eventBusEvent:{eventName:"setCaptionLanguage",value:e}});return o.isWaitingForCaptions?new Promise((e=>{t.on("availableCaptionsWithActiveStatus",(()=>{e(r())}))})):r()},getCaptionLanguages:()=>y(this,void 0,void 0,(function*(){return o.isWaitingForCaptions?new Promise((e=>{t.on("availableCaptionsWithActiveStatus",(()=>{e({visible:o.captionVisibility,languages:o.availableCaptions})}))})):{visible:o.captionVisibility,languages:o.availableCaptions}})),enableAdaptiveVideo:()=>n("@vdo/eventBus",{eventBusEvent:{eventName:"selectQualityTrack",value:-1}}),getVideoQualities:()=>Promise.resolve({adaptive:o.abrStatus,qualities:o.availableQualities}),setVideoQuality:e=>o.availableQualities.find((({id:t})=>e===t))?n("@vdo/eventBus",{eventBusEvent:{eventName:"selectQualityTrack",value:e}}):Promise.reject(new Error("[Vdocipher] (API) no desired video track found with trackId "+e)),addEventListener:(e,n)=>{if("function"!=typeof n)throw new Error("[Vdocipher] (API) handler must be type of function, but passed "+typeof n);if(!g.includes(e))throw new Error('[Vdocipher] (API) provided event is not supported by the method\n if it\'s HTML5 Video Element dom event please use "player.video.addEventListener"');return t.on(e,(e=>Array.isArray(e)?n(e[0]):n(e)))},loadVideo:({otp:e,playbackInfo:t})=>n("@vdo/eventBus",{eventBusEvent:{eventName:"loadVideo",value:{otp:e,playbackInfo:t}}}),_setChapters:t=>n("@vdo/eventBus",{eventBusEvent:{eventName:"setChapters",value:[t,e.duration]}})}}function b(e){const t=new f,n=new p.A,o=document.createElement("video"),r={isHandshakeCompleted:!1,sendMessageBuffer:[]};((e,t)=>{(()=>{const e=document.createElement("style");e.type="text/css",e.id="style-element",e.innerHTML="\n    Iframe.vdo-semi-fullscreen{\n        position: fixed !important;\n        top: 0 !important;\n        left: 0 !important;\n        width: 100vw !important;\n        height: 100vh !important;\n        max-width: none !important;\n        max-height: none !important;\n        z-index: 9999 !important;\n    }\n    ",document.head.appendChild(e)})(),t.on("setSemiFullscreen",(([t])=>{t?e.classList.add("vdo-semi-fullscreen"):e.classList.remove("vdo-semi-fullscreen")}))})(e,n);const a=(e=>e instanceof HTMLIFrameElement?{operatingMode:"AGENT",element:e,type:"iframe"}:{operatingMode:"AGENT",element:e,type:"webcomponent"})(e),i=l(a);i.handshake.onSuccess((()=>{r.isHandshakeCompleted=!0,r.sendMessageBuffer.forEach((e=>i.send(...e)))})),i.handshake.onReady((()=>i.handshake.request())),i.handshake.request(),i.on("@vdo/element/event",(e=>{o.dispatchEvent(new CustomEvent(e.elementEventName))})),i.on("@vdo/updateState",(e=>{t.update(e.videoState)})),i.onStateUpdate(t.update),i.on("@vdo/eventBus",(e=>{e.eventBusEvent&&n.emit(e.eventBusEvent.eventName,e.eventBusEvent.value)}));const s=function({videoEl:e,videoState:t,sendMessage:n}){const o=["addEventListener","removeEventListener"];return new Proxy(e,{get(r,a){if("target"===a)return r;const i=e[a];if(i instanceof Function)return function(...t){return o.includes(a)?(i.apply(e,t),n("@vdo/element/event",{elementEventName:a})):n("@vdo/element/method",{elementMethod:{methodName:a,args:t}})};{const e=t.get(a);return void 0===e?i:e}},set:(t,o,r)=>(n("@vdo/element/property",{elementProperty:{name:o,value:r}}),e[o]=r,!0)})}({videoEl:o,videoState:t,sendMessage:i.send});return{video:s,api:Object.assign({},new w(s,n,i.send))}}const E=new Map;function A(e){if(E.has(e))throw new Error("[VdoCipher] (API) Cannot create multiple instances from the same Iframe\n use VdoPlayer.getInstance method to get the instance of already initiated iframe");return A.getInstance(e)}A.getInstance=function(e){if(!(e=>e&&"IFRAME"===e.nodeName)(e)&&!(e=>e&&"VDOCIPHER-PLAYER"===e.nodeName)(e))throw new Error("[VdoCipher] (API) element as HTMLIframeElement/Vdocipher-player is a required parameter");if(E.has(e))return E.get(e);const t=new b(e);return E.set(e,t),t},"function"==typeof window.onVdoPlayerV2APIReady&&window.onVdoPlayerV2APIReady(),A.attachAPI=function(e,t,a){if(null===window.parent)return;const i=[],s=[],d=l(a);t.on("*",((e,...t)=>{s.push({eventBusEvent:{name:e,arg:t}}),d.isConnected()&&d.send("@vdo/eventBus",{eventBusEvent:{eventName:e,value:t}})}));const c=()=>d.send("@vdo/updateState",{videoState:n(e)}),u=e=>{d.send("@vdo/element/event",{elementEventName:e})};!function(e,t){o.forEach((n=>{e.addEventListener(n,t)}))}(e,(({type:e})=>{r.includes(e)&&i.push(e),d.isConnected()&&(c(),u(e))})),d.handshake.ready(),d.handshake.onSuccess((()=>{t.emit("apiConnected",!0),c().then((()=>{i.forEach(u),s.forEach((({eventBusEvent:{name:e,arg:t}})=>d.send("@vdo/eventBus",{eventBusEvent:{eventName:e,value:t}})))}))})),d.on("@vdo/getState",(()=>c())),d.on("@vdo/element/event",(t=>{o.includes(t.elementEventName)||e.addEventListener(t.elementEventName,(()=>{c(),d.send("@vdo/element/event",{elementEventName:t.elementEventName})}))})),d.on("@vdo/element/method",(t=>{if(!t.elementMethod)return;if(!(t.elementMethod.methodName in HTMLMediaElement.prototype))return;const n=e[t.elementMethod.methodName];return Promise.resolve(n.call(e,...t.elementMethod.args))})),d.on("@vdo/element/property",(t=>{var n;(null===(n=t.elementProperty)||void 0===n?void 0:n.name)&&t.elementProperty.name in HTMLMediaElement.prototype&&(e[t.elementProperty.name]=t.elementProperty.value)})),d.on("@vdo/eventBus",(e=>{(null==e?void 0:e.eventBusEvent)&&t.emit(e.eventBusEvent.eventName,e.eventBusEvent.value)}))},A.offline=e.k,window.VdoPlayer=A})()})();